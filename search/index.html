<!DOCTYPE html>
<html lang="zh"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>搜索 | Liangdi&#39;s个人博客</title>

    

<link rel="canonical" href="https://liangdi.me/search/" />



<meta name="author" content="Liangdi" />
<meta name="description" content="" />



<meta name="generator" content="Hugo 0.134.3">


<meta property="og:url" content="https://liangdi.me/search/">
  <meta property="og:site_name" content="Liangdi&#39;s个人博客">
  <meta property="og:title" content="Liangdi&#39;s个人博客">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="website">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Liangdi&#39;s个人博客">




  

<link rel="stylesheet" href="/css/output.min.css" />




     

    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between max-w-[65ch] mx-auto px-4 md:px-0">
  
    <section class="flex items-center gap-4">
      

      
      <div>
        
        <a href="https://liangdi.me/" class="text-lg font-semibold cursor-pointer">
          Liangdi&#39;s个人博客
        </a>
        
        
      </div>
      
    </section>

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md">
        


<li>
  <div role="link" tabindex="0" class="inline-flex items-center p-2 cursor-pointer" @click="flip = !flip" title="关于">
    <ion-icon name="information-circle"></ion-icon>关于</div>
</li>









<li>
  <a class="group inline-flex items-center p-2 cursor-pointer" href="/search" title="搜索">
    <ion-icon name="search"></ion-icon>
    搜索
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/index.xml" title="RSS">
    <ion-icon name="logo-rss"></ion-icon>
    RSS
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="归档">
    <ion-icon name="archive"></ion-icon>
    归档
  </a>
</li>











<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="所有标签">
    <ion-icon name="pricetags"></ion-icon>
    所有标签
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      
      
      
      <div role="link" tabindex="0" class="text-sm font-semibold cursor-pointer hover:underline" @click="flip = !flip" title="关于">关于</div>
      
      

      
      
        
      

      

      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/search" title="搜索">
  <ion-icon class="group-hover:text-primary-content" name="search"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/index.xml" title="RSS">
  <ion-icon class="group-hover:text-primary-content" name="logo-rss"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="归档">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="所有标签">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            


<div class="max-w-[65ch] mt-8 lg:mt-12 mx-auto px-4"

x-data="{
  search: '',
  get posts() { return this.search !== '' ? window.fuse.search(this.search) : [] },
}">
  <label for="search" class="input input-bordered flex items-center gap-2">
    <input id="search" name="search" type="text" class="grow" placeholder="搜索" x-model.debounce="search" />
    <ion-icon name="search"></ion-icon>
  </label>

  <div class="mt-8 space-y-4">
  <template x-for="post in posts">
    <a class="card card-compact bg-base-100 hover:bg-base-content/10 cursor-pointer border border-base-content/30" :href="post.item.url">
      <div class="card-body">
        <h2 class="card-title" x-text="post.item.title"></h2>

        <div x-html="post.item.description"></div>

        <div class="card-actions justify-between items-center mt-4">
          <div class="flex items-center">
            <template x-if="post.item.avatar">
            <div class="avatar mr-1">
              <div class="w-8 rounded-full">
                <img class="my-0" :src="post.item.avatar" :alt="post.item.author" />
              </div>
            </div>
            </template>
            <template x-if="!post.item.avatar">
            <span>@</span>
            </template>

            <template x-if="post.item.author">
            <span x-text="post.item.author"></span>
            </template>
            <template x-if="!post.item.author">
            <span>Liangdi</span>
            </template>
            </span>
          </div>

          <div class="inline-flex items-center">
            <ion-icon name="time" class="mr-1"></ion-icon>
            <span><span x-text="post.item.readingTime"></span>分钟阅读</span>
          </div>
        </div>
      </div>
    </a>
  </template>
  </div>
</div>



            
            <footer class="flex justify-between items-center gap-2 max-w-[65ch] mx-auto px-4 md:px-0 py-12">
            
              <div>
  
  <p>
    © 2016 - 2024 Liangdi&#39;s个人博客
  </p>
  

  
  <p>谦和之静，厚积薄发</p>
  
</div>

              <div
  x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

            </footer>
          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="max-w-[65ch] mt-8 mx-auto px-4">
  
  
  
  <div>
    <div class="mb-4 text-lg font-medium">关于</div>

    <div class="prose dark:prose-invert">
      <p>什么都没有</p>

    </div>
  </div>
  <div class="divider divider-vertical"></div>
  
  

  

  
</div>

            
          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme = "emerald"
  window.darkTheme = "forest"
</script>





  

<script src="/js/main.min.js"></script>

    






















<script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.min.js" integrity="sha256-42IbU8t3tOwwbexB7ZVRHm3YDRf65aBPPjRtIUufj5I=" crossorigin="anonymous"></script>
<script>
  var fuseData = [{"author":null,"avatar":null,"categories":null,"description":"\u003ch1 id=\"概述\"\u003e概述\u003c/h1\u003e\n\u003cp\u003eRust 生态慢慢发展壮大，虽然有 areweyet 系列网站可以查看一些领域的情况，但是我最近关注的 web framework 领域的 \u003ca href=\"https://www.arewewebyet.org/\"\u003ehttps://www.arewewebyet.org/\u003c/a\u003e 却不怎么更新了， 那么为就自己来收集一下最新的信息，本文只是收集一些活跃的项目， 不分排名，不做推荐，如果有机会花点时间去做点技术调研，再做推荐。\u003c/p\u003e\n\u003cp\u003e如果项目缺失，也欢迎大家补充\u003c/p\u003e\n\u003ch1 id=\"项目列表后端框架\"\u003e项目列表(后端框架)\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eactix-web \u003ca href=\"https://actix.rs/\"\u003ehttps://actix.rs/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eaxum \u003ca href=\"https://github.com/tokio-rs/axum\"\u003ehttps://github.com/tokio-rs/axum\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003ewarp \u003ca href=\"https://github.com/seanmonstar/warp\"\u003ehttps://github.com/seanmonstar/warp\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eviz \u003ca href=\"https://viz.rs/\"\u003ehttps://viz.rs/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003esalvo \u003ca href=\"https://salvo.rs/\"\u003ehttps://salvo.rs/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eiron \u003ca href=\"https://github.com/iron/iron\"\u003ehttps://github.com/iron/iron\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003etide \u003ca href=\"https://github.com/http-rs/tide\"\u003ehttps://github.com/http-rs/tide\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003enickel \u003ca href=\"https://github.com/nickel-org/nickel.rs\"\u003ehttps://github.com/nickel-org/nickel.rs\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003egotham \u003ca href=\"https://gotham.rs/\"\u003ehttps://gotham.rs/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003epoem \u003ca href=\"https://github.com/poem-web/poem\"\u003ehttps://github.com/poem-web/poem\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003ethruster \u003ca href=\"https://github.com/thruster-rs/Thruster\"\u003ehttps://github.com/thruster-rs/Thruster\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003erouille \u003ca href=\"https://github.com/tomaka/rouille\"\u003ehttps://github.com/tomaka/rouille\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003etrillium \u003ca href=\"https://github.com/trillium-rs/trillium\"\u003ehttps://github.com/trillium-rs/trillium\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003erocket \u003ca href=\"https://rocket.rs/\"\u003ehttps://rocket.rs/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"项目列表全栈类\"\u003e项目列表(全栈类)\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eFresh \u003ca href=\"https://fresh.deno.dev/\"\u003ehttps://fresh.deno.dev/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eMoonZoon \u003ca href=\"https://github.com/MoonZoon/MoonZoon\"\u003ehttps://github.com/MoonZoon/MoonZoon\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eanansi \u003ca href=\"https://github.com/saru-tora/anansi\"\u003ehttps://github.com/saru-tora/anansi\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"github-star-情况选取部分\"\u003egithub star 情况(选取部分)\u003c/h1\u003e\n\u003ch2 id=\"后端框架\"\u003e后端框架\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"assets/star-history-1.png\" alt=\"后端框架\"\u003e\u003c/p\u003e\n\u003ch2 id=\"全栈类\"\u003e全栈类\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"assets/star-history-2.png\" alt=\"全栈类\"\u003e\u003c/p\u003e","readingTime":1,"tags":["rust","web"],"title":"2023 年可以关注的 Rust Web 框架(后端)","url":"/posts/2023-rust-web-frameworks/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch1 id=\"概述\"\u003e概述\u003c/h1\u003e\n\u003cp\u003ezellij 是最近用于替代 tmux 的工具，使用 rust 编写 \u003ca href=\"https://zellij.dev/\"\u003ehttps://zellij.dev/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ezellij 名称的直译大概是马赛克瓷砖的意思， 项目原先名称直接就叫：Mosaic\u003c/p\u003e\n\u003cp\u003e从名字看，它运行起来应该有点马赛克瓷砖，一块一块的样子，运行截图如下\n\u003cimg src=\"assets/zellij-screen.png\" alt=\"Zellij 截图\"\u003e\u003c/p\u003e\n\u003ch1 id=\"特点\"\u003e特点\u003c/h1\u003e\n\u003cp\u003e阐述 zellij 的特点之前，先看看官方的 roadmap 的内容，随着时间变化，可能会有不同，不过大体能了解到官方的一些理念\n\u003cimg src=\"assets/zellij-roadmap.png\" alt=\"Zellij Raodmap\"\u003e\u003c/p\u003e\n\u003cp\u003e网址:\u003ca href=\"https://zellij.dev/roadmap/\"\u003ehttps://zellij.dev/roadmap/\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"用户体验\"\u003e用户体验\u003c/h2\u003e\n\u003cp\u003eZellij 很注重用户体验，包括终端用户，以及开发者，终端用户层面， zellij 做到了开箱即用，无需过多的学习， zellij 默认支持 tab ， 快捷键默认呈现，并且有下一步操作提示， 默认可以使用鼠标激活 pane, 支持快捷键切换 pane 和 tab ，这样的默认配置用户基本无成本上手， 相比 tmux 好太多， 记得当初使用 tmux 第一步就是去搜索如何显示快捷键，如何使用快捷键\u0026hellip;\n\u003cimg src=\"assets/zellij-keymap-1.png\" alt=\"zellij keymap\"\u003e\n\u003cimg src=\"assets/zellij-keymap-2.png\" alt=\"zellij keymap\"\u003e\u003c/p\u003e\n\u003cp\u003eZellij 的键盘操作新手无需学习即可理解， 类似的设计在很多用户友好的软件中都有体现了，下图是 Blender 的操作界面\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"assets/blender.png\" alt=\"zellij keymap\"\u003e\u003c/p\u003e\n\u003ch2 id=\"layout-系统\"\u003elayout 系统\u003c/h2\u003e\n\u003cp\u003eZellij 设计了一个 layout 系统， 用户可以设置不同的配置文件（kdl 格式）\u003ca href=\"https://kdl.dev/\"\u003ehttps://kdl.dev/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ekdl 确实很适合描述复杂的配置，类似 ron \u003ca href=\"https://github.com/ron-rs/ron\"\u003ehttps://github.com/ron-rs/ron\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e我测试了几个 layout 配置以及运行效果如下：\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003emonitor.kdl\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elayout {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    pane split_direction\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;vertical\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        pane command\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;htop\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e// panes can have arguments on the same line\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        pane command\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;btm\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    pane command\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;nu\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cimg src=\"assets/zellij-monitor.png\" alt=\"monitor.kdl\"\u003e\u003c/p\u003e","readingTime":1,"tags":["rust","cli","zellij"],"title":"Rust 项目鉴赏: zellij 替代 screen, tmux 的终端工具","url":"/posts/rust-project-review-zellij/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch2 id=\"概述\"\u003e概述\u003c/h2\u003e\n\u003cp\u003eDDoS 介绍: \u003ca href=\"https://www.cloudflare.com/zh-cn/learning/ddos/what-is-a-ddos-attack/\"\u003ehttps://www.cloudflare.com/zh-cn/learning/ddos/what-is-a-ddos-attack/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e如果黑客攻击技术有层次之分, 那么 DDoS 攻击可以比喻为: 花钱请了一堆打手,攻击目标, 没有什么技术含量又有效果,目标也要付出不少成本才能防护的了.\u003c/p\u003e\n\u003cp\u003e那 Rust 能编写 DDoS 软件吗? 答案当然是可以的,基本上所有语言都可以编写.\u003c/p\u003e\n\u003cp\u003eDDoS 工具说到底就是充分利用了网络协议的标准, 然后不讲道理恶意利用而以. 第一个 D, distributed , 分布式, 就不在我们今天内容的范畴了, 后面将结合其他内容一起写.\u003c/p\u003e\n\u003cp\u003eDDoS 攻击大多数发生在 3,4,7 层网络, SYN Flood 就是在 TCP 协议上实现的.\u003c/p\u003e\n\u003ch2 id=\"syn-flood-原理\"\u003eSYN Flood 原理\u003c/h2\u003e\n\u003cp\u003eSYN Flood 介绍: \u003ca href=\"https://www.cloudflare.com/zh-cn/learning/ddos/syn-flood-ddos-attack/\"\u003ehttps://www.cloudflare.com/zh-cn/learning/ddos/syn-flood-ddos-attack/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eSYN 洪水攻击主要是利用 TCP 协议握手规则, 大致就是不停的只伸手, 就不和对方握手,导致对方一直准备着和你握手, 就没法完成其他正常的握手动作了.\u003c/p\u003e\n\u003cp\u003e那丛技术实现原理来看, 就是不停的构建 TCP-SYN 数据包,发给目标 IP 地址, 对于目标响应的 SYN/ACK 信息不做处理, 甚至是伪造发送端 IP ,使得目标将响应的 SYN/ACK 发送到其他 IP 地址去.\u003c/p\u003e\n\u003ch2 id=\"准备工作\"\u003e准备工作\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e还是使用 pnet 库 (基于 pcap)\u003c/li\u003e\n\u003cli\u003e尝试伪造 IP (伪造 IP 对于公网 ISP 服务商基本都限制了,可以在内网实现).\u003c/li\u003e\n\u003cli\u003eTCP 协议就不展开讲了.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"编码实现\"\u003e编码实现\u003c/h2\u003e\n\u003cp\u003e创建项目, 并且添加基本以来 cargo add 的功能来自 cargo-edit 这个项目, 如果系统没有,可以使用 cargo install cargo-edit 安装该功能\u003c/p\u003e","readingTime":3,"tags":["rust","hacking programing","syn flood","ddos"],"title":"Rust 黑客编程 - SYN Flood 敲开 DDoS 的大门","url":"/posts/rust-hacking-programing-syn-flood-ddos/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch2 id=\"概述\"\u003e概述\u003c/h2\u003e\n\u003cp\u003e记得在高中时期打开终端, ping 一个 IP ,这个操作在别人面前就会引来仰望大神的目光.\u003c/p\u003e\n\u003cp\u003e后来知道了底层是 ICMP 协议,然后就没有然后了, 仅停留在知道的层面, 入坑 Rust 以来,也没有什么特别的项目去做, 就从这方面入手,重温一下高中时期学习\u0026quot;黑客\u0026quot;技术时的热情,毕竟兴趣是最好的老师!\u003c/p\u003e\n\u003ch2 id=\"准备工作\"\u003e准备工作\u003c/h2\u003e\n\u003cp\u003eRust 网络操作的库,不算很多, 这里使用 pnet 这个库,基于 pcap.\u003c/p\u003e\n\u003cp\u003e测试抓包工具使用 wireshark\u003c/p\u003e\n\u003ch2 id=\"预备知识\"\u003e预备知识\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eWiki 参考: \u003ca href=\"https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE\"\u003ehttps://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eICMP 协议属于 3 层网络, 包含在 IP 数据包中, 所以我们要构建的数据包格式: IP头部|ICMP头部|ICMP数据\u003c/li\u003e\n\u003cli\u003eICMP 报文使用 Type 和 Code 的组合区分不同的类型\u003c/li\u003e\n\u003cli\u003e根据 Wiki 的说明, 程序将使用 Type = 0 的数据包(Echo Reply) 和 Type = 8 的数据包 (Echo Request)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"assets/icmp.png\" alt=\"ICMP\"\u003e\u003c/p\u003e\n\u003cp\u003e这里我们使用 IPv4 协议\u003c/p\u003e\n\u003ch2 id=\"实现思路\"\u003e实现思路\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003epnet 可以实现 2,3,4 层的数据包操作\u003c/li\u003e\n\u003cli\u003epnet 提供了各层数据包的协议的封装\u003c/li\u003e\n\u003cli\u003e在此应用中,可以使用 \u003ccode\u003etransport_channel\u003c/code\u003e 创建网络的通讯通道,使用其 rx 接收数据包, tx 发送数据包.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"编码实现\"\u003e编码实现\u003c/h2\u003e\n\u003cp\u003e创建项目, 并且添加基本以来 cargo add 的功能来自 cargo-edit 这个项目, 如果系统没有,可以使用 cargo install cargo-edit 安装该功能\u003c/p\u003e","readingTime":3,"tags":["rust","hacking programing","icmp"],"title":"Rust 黑客编程 - ICMP 协议 ping 的简单实现","url":"/posts/rust-hacking-programing-icmp-ping/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch2 id=\"前言\"\u003e前言\u003c/h2\u003e\n\u003cp\u003e今天看到 WordPress 6 \u003ca href=\"https://wordpress.org/news/2022/05/arturo/\"\u003e发布\u003c/a\u003e了,回想多年以前在使用 WordPress 的时候,一顿 yum 命令安装 nginx, php, mysql, php-fpm , 然后再配置 nginx, 经过一阵子配置, WordPress 就运行成功了, 如今在云原生时代, 可以用 k8s , docker , Podman 等工具来安装这些系统了, 今天就使用 Podman 安装 WordPress , 人生苦短, 我用 podman !\u003c/p\u003e\n\u003ch2 id=\"认知准备\"\u003e认知准备\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e这次是安装一个业务系统(WordPress) , 所以不象一些 hello world 的文章, 更多要关注底层的一些东西\u003c/li\u003e\n\u003cli\u003e网络(network): WordPress 要和 mysql 连接, 所以需要网络支持\u003c/li\u003e\n\u003cli\u003e数据卷(volume): mysql 数据要保存, WordPress 的文章数据保存在数据库中,但是插件/主题,上传图片等都是保存在文件系统中, 文件系统的内容要保存下来, 就要使用到数据卷功能.\u003c/li\u003e\n\u003cli\u003e使用 Podman 4.1.0 版本\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"安装过程\"\u003e安装过程\u003c/h2\u003e\n\u003ch3 id=\"网络\"\u003e网络\u003c/h3\u003e\n\u003cp\u003e使用 podman network ls , 可以查看 Podman 的网络列表, 默认会有一个 Podman 的网络, 这里我们会创建一个新的网络叫做 \u003ccode\u003ewp-net\u003c/code\u003e , 使用如下命令:\u003c/p\u003e","readingTime":3,"tags":["podman","wordpress"],"title":"使用 Podman 运行 WordPress 6 Arturo","url":"/posts/run-wordpress-6-arturo-with-podman/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch2 id=\"前言\"\u003e前言\u003c/h2\u003e\n\u003cp\u003e看到标题,是不是觉得我疯了,爬虫,这个时间点应该还轮不到 rust 吧!\u003c/p\u003e\n\u003cp\u003e确实,现在成熟的爬虫技术基本使用 python, java 等,那么这篇文章的用意是什么呢? 我先来交代一下背景, 2017 年,我挖了一个坑:\n\u003ca href=\"https://zhuanlan.zhihu.com/p/24900305\"\u003ehttps://zhuanlan.zhihu.com/p/24900305\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e这个项目后来商用了,所以就不方便继续更新, 到了现在 2022 年了, 各种技术已经迭代了好多次, 那么,我也要重新思考一下一套新的爬虫架构了,这套架构基于云原生,容器化,结合不同语言取长补短,相互配合,简单概括如下:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e爬虫节点容器运行,语言无关,所以会支持 python ,java 等各语言开发的爬虫\u003c/li\u003e\n\u003cli\u003e统一的 DAG 任务分发调度节点\u003c/li\u003e\n\u003cli\u003e统一的数据集接口\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e其中一点是爬虫语言无关,所以会设计统一的输入输出接口,让各语言编写的程序都能在容器中执行, python, java, golang 的爬虫生态都很不错了,文章也很多, rust 这方面比较少,所以这里就写一篇 rust 的文章.\u003c/p\u003e\n\u003ch2 id=\"爬虫底层关注的技术点\"\u003e爬虫底层关注的技术点\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ehttp 库\u003c/li\u003e\n\u003cli\u003ehtml 解析\u003c/li\u003e\n\u003cli\u003ejson 解析\u003c/li\u003e\n\u003cli\u003eWebDriver 集成\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"http-库\"\u003ehttp 库\u003c/h2\u003e\n\u003cp\u003e作为爬虫的 http 库, 只要支持 http 协议基本就 ok, 主要是设置 header, 设置 cookies, 设置代理等等.\u003c/p\u003e\n\u003cp\u003erust 的 http 库列表 \u003ca href=\"https://lib.rs/web-programming/http-client\"\u003ehttps://lib.rs/web-programming/http-client\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e这里使用 reqwest 做个简单的示例\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-rust\" data-lang=\"rust\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003euse\u003c/span\u003e reqwest;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003euse\u003c/span\u003e http::{HeaderMap, HeaderValue, header::{\u003cspan style=\"color:#66d9ef\"\u003eCOOKIE\u003c/span\u003e,\u003cspan style=\"color:#66d9ef\"\u003eUSER_AGENT\u003c/span\u003e}};\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#[tokio::main]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003easync\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003efn\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e()  -\u0026gt; Result\u003cspan style=\"color:#f92672\"\u003e\u0026lt;\u003c/span\u003e(),reqwest::Error\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// HTML\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://ssr1.scrape.center/\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e resp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e reqwest::get(url).\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    println!(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Response: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{:?}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, resp.version(), resp.status());\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    println!(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Headers: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{:#?}\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e, resp.headers());\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e//println!(\u0026#34;Body:{:#?}\u0026#34;,resp.text().await?);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// JSON\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://spa1.scrape.center/api/movie/?limit=10\u0026amp;offset=0\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e resp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e reqwest::get(url).\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e json_body:\u003cspan style=\"color:#a6e22e\"\u003eserde_json\u003c/span\u003e::Value \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e resp.json().\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    println!(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Json:\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{:#?}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e,json_body);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// POST\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e _resp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e reqwest::Client::new()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .post(url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .form(\u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e[(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;value\u0026#34;\u003c/span\u003e)])\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .send()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// Header\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e _resp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e reqwest::Client::new()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .post(url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .header(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Auth\u0026#34;\u003c/span\u003e,\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;xxx\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .send()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// UserAgent Cookies\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e client \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e reqwest::Client::builder()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .cookie_store(\u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e).build().unwrap();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003emut\u003c/span\u003e headers \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e HeaderMap::new();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    headers.insert(\u003cspan style=\"color:#66d9ef\"\u003eCOOKIE\u003c/span\u003e, HeaderValue::from_str(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;key=value\u0026#34;\u003c/span\u003e).unwrap());\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    headers.insert(\u003cspan style=\"color:#66d9ef\"\u003eUSER_AGENT\u003c/span\u003e,HeaderValue::from_str(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;my user-agent\u0026#34;\u003c/span\u003e).unwrap());\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003elet\u003c/span\u003e _reps \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e client.get(url)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .headers(headers)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .send()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        .\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Ok(())\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eCargo.toml\u003c/p\u003e","readingTime":3,"tags":["rust","爬虫","WebDriver"],"title":"一次简单的 rust 爬虫开发技术调研","url":"/posts/simple-rust-crawler-technology-research/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch2 id=\"前言\"\u003e前言\u003c/h2\u003e\n\u003cp\u003e大家好,我是 Liangdi, podman 4.x 版本已经发布了, 我也从 docker 开始向 podman 迁移, 所以是合适的时候写点 podman 的文章了.\u003c/p\u003e\n\u003ch2 id=\"podman-是什么\"\u003epodman 是什么\u003c/h2\u003e\n\u003cp\u003e官方网站: \u003ca href=\"https://podman.io\"\u003epodman.io\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e官方自己的介绍: \u003ca href=\"https://podman.io/whatis.html\"\u003ehttps://podman.io/whatis.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e名称 \u003ccode\u003epodman\u003c/code\u003e ,官方说明是 \u003ccode\u003ePod Manager\u003c/code\u003e , 所以它不仅可以管理 OCI 容器,还可以管理 pod , 这也是和 docker 的最大差别吧.\u003c/p\u003e\n\u003ch2 id=\"和-kubernetes-的区别\"\u003e和 kubernetes 的区别\u003c/h2\u003e\n\u003cp\u003ekubernetes(k8s) 是目前最流行的容器编排工具, 集群管理工具, 生态很完善, 也很\u003ccode\u003e\u0026quot;重\u0026quot;\u003c/code\u003e, pod 的概念就来自 k8s , 虽然 podman 也是管理 pod, 但是远远不及 k8s 的编排功能, 同时 podman 也没有集群管理功能,如果需要管理集群, 需要第三方工具完成.\u003c/p\u003e\n\u003cp\u003e所以 podman 定位也不是编排和集群管理工具, 紧紧是一个 pod 和容器的管理工具. 所以不是一个级别的东西, 这里不做太多的比较.\u003c/p\u003e\n\u003ch2 id=\"和-docker-的区别\"\u003e和 docker 的区别\u003c/h2\u003e\n\u003cp\u003e如果仅仅从 \u003ccode\u003edocker\u003c/code\u003e 和 \u003ccode\u003epodman\u003c/code\u003e 两个命令提供的功能来讲,它们功能交集很大, podman 官方甚至推荐 \u003ccode\u003ealias docker=podman\u003c/code\u003e 来过渡.\u003c/p\u003e","readingTime":2,"tags":["podman","docker","k8s","kubernetes"],"title":"选择 podman 的理由, 以及它和 Kubernetes , Docker 的区别","url":"/posts/what-is-podman-and-different-from-kubernetes-and-docker/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch2 id=\"概述\"\u003e概述\u003c/h2\u003e\n\u003cp\u003e使用 rust 也挺长时间了,但是一直是内部小打小闹,没有往客户那边推, 这次和客户商量好,拿一个很小的 java spring boot 项目开刀.\u003c/p\u003e\n\u003cp\u003e这个项目小到 tiny 级别, 主要功能是: 请求一个服务, 对数据进行业务逻辑处理后, 使用 freemarker 渲染呈现给终端用户, rest api 也就 10 多个.\u003c/p\u003e\n\u003ch2 id=\"迁移准备\"\u003e迁移准备\u003c/h2\u003e\n\u003cp\u003e首先,业务逻辑使用 rust 实现,肯定是没有大问题, 关键在于一些中间件和第三方库是否有替代,这样可以让运维或者交付更加平滑一点, 由于项目比较简单,第三方库也很通用,基本在 rust 这边也有对等的选择,所以本次迁移也将会简单很多.\u003c/p\u003e\n\u003ch2 id=\"迁移说明\"\u003e迁移说明\u003c/h2\u003e\n\u003ch3 id=\"库和中间件迁移\"\u003e库和中间件迁移\u003c/h3\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth style=\"text-align: left\"\u003e库/中间件\u003c/th\u003e\n          \u003cth style=\"text-align: left\"\u003eRust 版本\u003c/th\u003e\n          \u003cth style=\"text-align: left\"\u003eJava 版本\u003c/th\u003e\n          \u003cth style=\"text-align: left\"\u003e备注\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd style=\"text-align: left\"\u003eWeb Framework\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003eactix-web 4\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003eSpring Boot 2.6.x\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd style=\"text-align: left\"\u003ehttp cleint\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003ereqwest\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003ejdk 11 HttpClient\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd style=\"text-align: left\"\u003ejson\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003eserde_json\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003egson\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd style=\"text-align: left\"\u003etemplate\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003etera\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003efreemarker\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd style=\"text-align: left\"\u003elogging\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003elog4rs\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003espring boot logging\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd style=\"text-align: left\"\u003eassets embedded\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003erust-embed\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003espring boot static\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd style=\"text-align: left\"\u003e配置\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003edotenv\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003espring boot\u003c/td\u003e\n          \u003ctd style=\"text-align: left\"\u003e项目小, 配置需求不高, dotenv 够用\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 id=\"有没有坑\"\u003e有没有坑?\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e由于项目实在不复杂, 过程中也没有遇到特别的问题, rust 的库也能正常工作, 从代码的角度很多时候比 java 简洁, 当然集成没有 spring boot 那么简单, 比如配置的自动读取赋值, 模板需要手动集成等等.\u003c/li\u003e\n\u003cli\u003espring boot 的 rest request 配置, 对应在 actix-web 中也是很简单,使用 #[get], #[post] 等宏实现, 请求内容的解构也一样完善, 迁移过程中没有遇到什么问题.\u003c/li\u003e\n\u003cli\u003e模板方面, \u003ccode\u003etera\u003c/code\u003e 是 \u003ccode\u003eJinja2/Django\u003c/code\u003e like 的所以,使用起来也没有什么障碍.\u003c/li\u003e\n\u003cli\u003e战胜 rust 编译器后,程序运行,完成测试没有遇到什么 bug !\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"迁移后的变化\"\u003e迁移后的变化\u003c/h2\u003e\n\u003ch3 id=\"程序尺寸\"\u003e程序尺寸\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003espring boot jar 大小 20MB, 即使是 spring-native 打包也要 60 多 mb, 并且 spring-native 打包的程序没法正常运行,因为 spring-native 还没有 GA ,所以也没有去深究.\u003c/li\u003e\n\u003cli\u003erust 的程序使用 \u003ccode\u003ex86_64-unknown-linux-musl\u003c/code\u003e target release 静态编译打包(默认配置,无其他优化), 程序 strip 后是 9.3MB , 相比 jar 也小了一半, 还没考虑 jdk.\u003c/li\u003e\n\u003cli\u003e容器化, 这点 rust 的优势就体现出来了, 使用 \u003ccode\u003eFROM scratch\u003c/code\u003e 打包出来的镜像大小是 9.75MB , 相比 spring boot 项目, 基本的 openjdk:17-alpine 就有 320 多 MB 加上项目程序,也要 340 多 MB 了.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"性能\"\u003e性能\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e肉眼可见的启动块了, 模板渲染也快了\u003c/li\u003e\n\u003cli\u003e程序瓶颈在于远程的服务,所以当前程序性能测试并不一定可靠,所以并没有去做特别的测试\u003c/li\u003e\n\u003cli\u003e后续迁移更多项目后,再进行一次性能测试比较\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"思考\"\u003e思考\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e如果项目不复杂, java 迁移到 rust 还是不算复杂的.\u003c/li\u003e\n\u003cli\u003e容器化的收益是不小的,不管是启动速度还是镜像大小.\u003c/li\u003e\n\u003cli\u003e后面考虑将微服务化的 java 项目选择合适的项目再进行 rust 迁移.\u003c/li\u003e\n\u003c/ul\u003e","readingTime":1,"tags":["rust","java","容器化"],"title":"记录一次 java 小项目的 rust 迁移过程","url":"/posts/a-tiny-app-migrate-from-java-to-rust/"},{"author":null,"avatar":null,"categories":null,"description":"\u003ch2 id=\"何为云原生\"\u003e何为云原生\u003c/h2\u003e\n\n\n\n  \u003cblockquote\u003e\n    \u003cp\u003e\u003ccode\u003e云原生\u003c/code\u003e一词可谓是大红大紫, 老板见面不说一下都觉得落伍了,技术人员更是要与时俱进,学习这\u003ccode\u003e一系列\u003c/code\u003e的新技术\u003c/p\u003e\n\n  \u003c/blockquote\u003e\n\n\u003cp\u003e先看看 \u003ca href=\"cncf.io\"\u003eCNCF\u003c/a\u003e 对云原生的最新定义,注意\u003ccode\u003e云原生\u003c/code\u003e的定义一直是演进的,随着新技术,新架构的发展,定义也会变化.\u003c/p\u003e\n\n\n\n  \u003cblockquote\u003e\n    \u003cp\u003e云原生技术有利于各组织在公有云、私有云和混合云等新型动态环境中，构建和运行可弹性扩展的应用。云原生的代表技术包括容器、服务网格、微服务、不可变基础设施和声明式API。\u003c/p\u003e\n\n  \u003c/blockquote\u003e\n\n\n\n\n  \u003cblockquote\u003e\n    \u003cp\u003e这些技术能够构建容错性好、易于管理和便于观察的松耦合系统。结合可靠的自动化手段，云原生技术使工程师能够轻松地对系统作出频繁和可预测的重大变更。\u003c/p\u003e\n\n  \u003c/blockquote\u003e\n\n\u003cp\u003e以上这两段话来自 CNCF 的\u003ca href=\"https://github.com/cncf/toc/blob/main/DEFINITION.md#%E4%B8%AD%E6%96%87%E7%89%88%E6%9C%AC\"\u003e云原生定义\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e简单的说就是用各种技术实现了大多数人梦寐以求的理想系统方案!\u003c/p\u003e\n\u003cp\u003e但是,如果一个传统技术栈的团队,要向\u003ccode\u003e云原生\u003c/code\u003e迁移,代价会是多大呢? 这是个值得思考的问题.\u003c/p\u003e\n\u003cp\u003eCNCF 有两个子站点 \u003ca href=\"https://glossary.cncf.io/\"\u003ehttps://glossary.cncf.io/\u003c/a\u003e 和 \u003ca href=\"https://landscape.cncf.io/\"\u003ehttps://landscape.cncf.io/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e这两个站点可以大致了解\u003ccode\u003e云原生\u003c/code\u003e涉及到新概念以及生态图谱, 如此多的概念和繁杂的生态,对于传统技术团队来说将会带来额外的心智负担以及新的挑战.\u003c/p\u003e\n\u003ch2 id=\"渐进式云原生\"\u003e渐进式云原生\u003c/h2\u003e\n\u003cp\u003e因此针对我们小团队以及小部门,我提出了\u003ccode\u003e渐进式云原生\u003c/code\u003e 和 \u003ccode\u003e轻量化云原生\u003c/code\u003e 的概念,以便云原生落地.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e渐进式云原生\u003c/code\u003e 是指自下往上,分阶段完成云原生迁移和落地. 这里大概会包含 \u003ccode\u003e容器化\u003c/code\u003e, \u003ccode\u003e微服务化\u003c/code\u003e , \u003ccode\u003eDevOps\u003c/code\u003e ,\u003ccode\u003eCI/DI\u003c/code\u003e 等方面向云端迁移, 而且不强调顺序, 实际的顺序大多数根团队的技术栈相关.\u003c/p\u003e\n\u003cp\u003e所以这系列应该不会出现一来就叫你部署一套 \u003ccode\u003ek8s\u003c/code\u003e 集群, 可能到最后也不会,而是取决于你自己的选择.\u003c/p\u003e\n\u003cp\u003e这一系列就是一次渐进式云原生的实践,废话一大推,我们进入正题\u003c/p\u003e\n\u003ch2 id=\"使用-podman-容器化你的应用\"\u003e使用 podman 容器化你的应用\u003c/h2\u003e\n\u003cp\u003e第一篇是\u003ccode\u003e使用 podman 容器化你的应用\u003c/code\u003e , 我认为容器化是迈向云原生过程中最简单的部分, 技术也成熟,风险不大. 这里为什么选择 \u003ccode\u003epodman\u003c/code\u003e ,详谈的话,需要再开一篇文章.\u003c/p\u003e\n\u003ch3 id=\"实践目标\"\u003e实践目标\u003c/h3\u003e\n\u003cp\u003e将一个传统的项目 CentOS -\u0026gt; Nginx -\u0026gt; (Spring Boot, MySQL, Redis) 容器化\u003c/p\u003e\n\u003cp\u003e原项目是一个不算复杂的 Spring Boot 应用, 由于 Java 没法热更新, 所以使用 Nginx 反向代理了两套 Spring Boot 应用(两套应用可以同时运行也可以只运行一套), 关键时刻可实现用户无感知更新.\u003c/p\u003e","readingTime":3,"tags":["podman","云原生","容器技术"],"title":"渐进式云原生实践: 使用 podman 容器化你的应用","url":"/posts/progressive-cloud-native-with-podman/"}];
  var fuseOptions = {
    keys: [
      "title",
    ]
  };

  var fuse = new Fuse(fuseData, fuseOptions);
</script>



    

    

    

    <script type="module" src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js"></script>
  </body>
</html>
